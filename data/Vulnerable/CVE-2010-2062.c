int real_get_rdt_chunk_header(rtsp_client_t *rtsp_session, rmff_pheader_t *ph) {
  int n=1;
  uint8_t header[8];
  int size;
  int flags1;
  int unknown1;
  uint32_t ts;
  n=rtsp_read_data(rtsp_session, header, 8);
  if (n<8) return 0;
  if (header[0] != 0x24)
  {
    lprintf("rdt chunk not recognized: got 0x%02x\n", header[0]);
    return 0;
  }
  size=(header[1]<<16)+(header[2]<<8)+(header[3]);
  flags1=header[4];
  if ((flags1!=0x40)&&(flags1!=0x42))
  {
    lprintf("got flags1: 0x%02x\n",flags1);
    if (header[6]==0x06)
    {
      lprintf("got end of stream packet\n");
      return 0;
    }
    header[0]=header[5];
    header[1]=header[6];
    header[2]=header[7];
    n=rtsp_read_data(rtsp_session, header+3, 5);
    if (n<5) return 0;
    lprintf("ignoring bytes:\n");
    n=rtsp_read_data(rtsp_session, header+4, 4);
    if (n<4) return 0;
    flags1=header[4];
    size-=9;
  }
  unknown1=(header[5]<<16)+(header[6]<<8)+(header[7]);
  n=rtsp_read_data(rtsp_session, header, 6);
  if (n<6) return 0;
  ts=BE_32(header);
#if 0
  lprintf("ts: %u size: %u, flags: 0x%02x, unknown values: %u 0x%02x 0x%02x\n",
          ts, size, flags1, unknown1, header[4], header[5]);
#endif
  size+=2;
  ph->object_version=0;
  ph->length=size;
  ph->stream_number=(flags1>>1)&1;
  ph->timestamp=ts;
  ph->reserved=0;
  ph->flags=0;      /* TODO: determine keyframe flag and insert here? */
  return size;
}
