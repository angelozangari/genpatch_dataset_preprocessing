static int Read( stream_t *s, void *p_read, unsigned int i_read )
{
    stream_sys_t *p_sys = s->p_sys;
    if( !p_read ) return 0;
    /* Fill the buffer */
    if( p_sys->psz_xspf == NULL )
    {
        int i_ret = CreatePlaylist( s, &p_sys->psz_xspf );
        if( i_ret < 0 )
            return -1;
        p_sys->i_len = strlen( p_sys->psz_xspf );
        p_sys->i_pos = 0;
    }
    /* Read the buffer */
    int i_len = __MIN( i_read, p_sys->i_len - p_sys->i_pos );
    memcpy( p_read, p_sys->psz_xspf + p_sys->i_pos, i_len );
    p_sys->i_pos += i_len;
    return i_len;
}
